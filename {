Script started on 2025-08-01 18:32:22+00:00 [TERM="xterm" TTY="/dev/pts/1" COLUMNS="135" LINES="43"]
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile  "Jenkinsfile'"   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# rm [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;62H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[41d[K[1;77H(B[0;7m*[134G(B[m[2;25Hexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[3;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[4;25Hexport AWS_DEFAULT_REGION=ap-south-1[6;25Haws eks update-kubeconfig --name vkr-cluster --region ap-south-1[8;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[9;21H'''[10;17H}[11;13H}[12;9H}[13;5H}[15dpost {[16dfailure {[17;13Hecho 'Build or deployment failed!'[18;9H}[19;5H}[20d}[21d[?12l[?25h[?25l[?12l[?25h[18d[?25l[?12l[?25h[15d[?25l[?12l[?25h[12d[?25l[?12l[?25h[9d[?25l[?12l[?25h[6d[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;41r[2;1H[2T[1;43r[2;17HwithCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVar(B[0;7m>[3;21H(B[msh '''[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[3;9Hstage('Deploy to Kubernetes') {[4;13Hsteps {[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[3;21Hsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[4;21Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;9Hstage('Docker Build & Push') {[3;13Hsteps {[4;17Hscript {[2d[?25l[?12l[?25h7[2;41r8[6T[1;43r[2;9Hstage('Checkout') {[3;13Hsteps {[4;17Hgit '(B[0;1m[34mhttps://github.com/yourusername/your-flask-repo.git'[5;13H[39m(B[m}[6;9H}[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;5H}[4dstages {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[3;9HIMAGE_TAG = 'latest'[4;9HKUBE_NAMESPACE = 'default'  // Change if your namespace is different[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;5Hagent any[4;5Henvironment {[2d[?25l[?12l[?25h7[2;40r8M[1;43r[2;1Hpipeline {[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[5d[?25l[?12l[?25h[8d[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 49 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[8d[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git [K[K[K[Kgit add .nano Jenkinsfile[2Prm[C[C[C[C[C[C[C[C[C[C[C[Cls[Kclear[3Pls -l /home/ubuntu/KubeBridgejar tf app.jar | grep security[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgit commit -m ""n"e"w" "j"e"n"k"i"n"s"f"i"l"e"
[?2004l[main de0ff80] new jenkinsfile
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 56 insertions(+), 60 deletions(-)
 create mode 100644 {
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u orif[Kgin mail[Kn
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 6, done.
Counting objects:  16% (1/6)Counting objects:  33% (2/6)Counting objects:  50% (3/6)Counting objects:  66% (4/6)Counting objects:  83% (5/6)Counting objects: 100% (6/6)Counting objects: 100% (6/6), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 2.16 KiB | 2.16 MiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   4854644..de0ff80  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# jr[K[Ksudo systemctl restart jenkins
[?2004l[0;1;38;5;185mWarning: The unit file, source configuration file or drop-ins of jenkins.service changed on disk. Run 'systemctl daemon-reload' to reload units.[0m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# sudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfile"add .[Knano Jenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 49 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2dpipeline {[3;5Hagent any[5;5Henvironment {[6;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[7;9HIMAGE_TAG = 'latest'[8;9HKUBE_NAMESPACE = 'default'  // Change if your namespace is different[9;5H}[11dstages {[12;9Hstage('Checkout') {[13;13Hsteps {[14;17Hgit '(B[0;1m[34mhttps://github.com/yourusername/your-flask-repo.git'[15;13H[39m(B[m}[16;9H}[18dstage('Docker Build & Push') {[19;13Hsteps {[20;17Hscript {[21;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[22;21Hsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[23;21Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[24;17H}[25;13H}[26;9H}[28dstage('Deploy to Kubernetes') {[29;13Hsteps {[30;17HwithCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVar(B[0;7m>[31;21H(B[msh '''[32dexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[33;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[34;25Hexport AWS_DEFAULT_REGION=ap-south-1[36;25Haws eks update-kubeconfig --name vkr-cluster --region ap-south-1[38;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[39;21H'''[40;17H}[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[41d[K[?12l[?25h[14;9H[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25hg[?25l[?12l[?25hi[?25l[?12l[?25ht[?25l[?12l[?25h [?25l[?12l[?25h'[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[42G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[1;77H(B[0;7m*[134G(B[m[?12l[?25h[14;72H(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h(B[0;1m[34m'[39m(B[m[K[?25l[?12l[?25h[14;22Hhttps://github'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h [?25l[?12l[?25h''[?25l(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m[?12l[?25h[?25l[?12l[?25h[15;14H[?25l[?12l[?25h[16;10H[?25l[?12l[?25h[17d[?25l[?12l[?25h[18;39H[?25l[?12l[?25h[19;20H[?25l[?12l[?25h[20;25H[?25l[?12l[?25h[21;71H[?25l[?12l[?25h[22d[?25l[?12l[?25h[23;66H[?25l[?12l[?25h[24;18H[?25l[?12l[?25h[25;14H[?25l[?12l[?25h[26;10H[?25l[?12l[?25h[27d[?25l[?12l[?25h[28;40H[?25l[?12l[?25h[29;20H[?25l[?12l[?25h[30;71H[?25l[?12l[?25h[31;27H[?25l[?12l[?25h[32;70H[?25l[?12l[?25h[33dE[?25l[?12l[?25h[34;61H[?25l[?12l[?25h[35d[?25l[?12l[?25h[36;71H[?25l[?12l[?25h[37d[?25l[?12l[?25h[38;71H[?25l[?12l[?25h[39;24H[?25l[?12l[?25h[40;18H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;13H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5Hpost {[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9Hfailure {[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;13Hecho 'Build or deployment failed!'[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A}[?25l[?12l[?25h[37;10H[?25l[?12l[?25h[36;47H[?25l[?12l[?25h[35;18H[?25l[?12l[?25h[34;11H[?25l[?12l[?25h[A[?25l[?12l[?25h[32;6H[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A   }[?25l[?12l[?25h[28;24H[?25l[?12l[?25h[27;71H[?25l[?12l[?25h[A[?25l[?12l[?25h[25;71H[?25l[?12l[?25h[A[?25l[?12l[?25h[23;61H[?25l[?12l[?25h[22;71H[?25l[?12l[?25h[A[?25l[?12l[?25h[20;27H[?25l[?12l[?25h[18;20H[?25l[?12l[?25h[17;40H[?25l[?12l[?25h[A[?25l[?12l[?25h[15;10H[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A   }[?25l[?12l[?25h[12;66H[?25l[?12l[?25h[11;71H[?25l[?12l[?25h[A[?25l[?12l[?25h[9;25H[?25l[?12l[?25h[8;20H[?25l[?12l[?25h[7;39H[?25l[?12l[?25h[A[?25l[?12l[?25h[5;10H[?25l[?12l[?25h[A   }[?25l[?12l[?25h[3;71H[?25l[?12l[?25h[2;20H[?25l[?12l[?25h7[2;41r8M[1;43r[2;9Hstage('Checkout') {[?25l[?12l[?25h7[2;40r8[2T[1;43r[3;5Hstages {[A[?25l[?12l[?25h7[2;40r8M[1;43r[2;5H}[?25l[?12l[?25h7[2;40r8M[1;43r[2;9HKUBE_NAMESPACE = 'default'  // Change if your namespace is different[71G[?25l[?12l[?25h7[2;40r8M[1;43r[2;9HIMAGE_TAG = 'latest'[?25l[?12l[?25h7[2;40r8M[1;43r[2;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[?25l[?12l[?25h7[2;41r8M[1;43r[2;5Henvironment {[?25l[?12l[?25h7[2;40r8M[1;43r[2;1H[?25l[?12l[?25h7[2;40r8M[1;43r[2;5Hagent any[?25l[?12l[?25h7[2;40r8M[1;43r[2;1Hpipeline {[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 49 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[2;11H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano Jenkinsfilesudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfile"add .[Knano Jenkinsfile[7Pgit add .
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .nano Jenkinsfilesudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfile"e"e"e"e"e"
[?2004l[main e3a683d] new jenkinsfileeeeee
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 47 insertions(+), 2 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m "new jenkinsfileeeeee"add .[Knano Jenkinsfilesudo systemctl restart jenkins[7Pgit push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 3.60 KiB | 3.60 MiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   de0ff80..e3a683d  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u origin maincommit -m "new jenkinsfileeeeee"add .[Knano Jenkinsfilesudo systemctl restart jenkins
[?2004l[0;1;38;5;185mWarning: The unit file, source configuration file or drop-ins of jenkins.service changed on disk. Run 'systemctl daemon-reload' to reload units.[0m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile  "Jenkinsfile'"   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# rm [7m"Jenkinsfile'" [27m"Jenkinsfile'" 
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cd[K[Krm "Jenkinsfile'" ls[Ksudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfileeeeee"add .[K
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .rm "Jenkinsfile'" ls[Ksudo systemctl restart jenkinsls[Ksudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfileeeeee"[1P"[1P"[1P"[1P"[1P"[1Pe"
[?2004l[main 9c2a995] new jenkinsfie
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 25 insertions(+), 55 deletions(-)
 delete mode 100644 Jenkinsfile'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m "new jenkinsfie"add .[Krm "Jenkinsfile'" ls[Krm "Jenkinsfile'" [9Pgit add .commit -m "new jenkinsfie"[Kgit commit -m "new jenkinsfie"add .[Krm "Jenkinsfile'" ls[Ksudo systemctl restart jenkins[7Pgit push -u origin maincommit -m "new jenkinsfileeeeee"[13Ppush -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 2 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)Writing objects:  66% (2/3)Writing objects: 100% (3/3)Writing objects: 100% (3/3), 610 bytes | 610.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   e3a683d..9c2a995  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano [K[K[K[K[Kclear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge#  nano [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 49 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2dpipeline {[3;5Hagent any[5;5Henvironment {[6;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[7;9HIMAGE_TAG = 'latest'[8;9HKUBE_NAMESPACE = 'default'  // Change if your namespace is different[9;5H}[11dstages {[12;9Hstage('Checkout') {[13;13Hsteps {[14;17Hgit '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[15;13H[39m(B[m}[16;9H}[18dstage('Docker Build & Push') {[19;13Hsteps {[20;17Hscript {[21;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[22;21Hsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[23;21Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[24;17H}[25;13H}[26;9H}[28dstage('Deploy to Kubernetes') {[29;13Hsteps {[30;17HwithCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVar(B[0;7m>[31;21H(B[msh '''[32dexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[33;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[34;25Hexport AWS_DEFAULT_REGION=ap-south-1[36;25Haws eks update-kubeconfig --name vkr-cluster --region ap-south-1[38;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[39;21H'''[40;17H}[2d[?12l[?25h[?25l[41;38H(B[0;7m[ line  1/50 ( 2%), col  1/11 (  9%), char    0/1596 ( 0%) ](B[m[?12l[?25h[2d[?25l[?12l[?25h[5d[?25l[?12l[?25h[8d[?25l[?12l[?25h[11d[?25l[?12l[?25h[14d[?25l[?12l[?25h[17d[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[41d[K[?12l[?25h[12d[?25l[?12l[?25h[A[?25l[?12l[?25h [?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h}[?25l[1;77H(B[0;7m*[134G(B[m[?12l[?25h[16d[K[16;9H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16;41r[41;1H
[1;43r[40;13H}[15;14H[?12l[?25h[?25l[?12l[?25h[K[15;12H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[15;41r[41;1H
[1;43r[40;9H}[14;72H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h.[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[14;22Hhttps://github.[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[14;16H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14;41r[41;1H
[1;43r[40;5H}[13;20H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[13;13H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[13;41r[41;1H
[1;43r[12;28H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h[K[12;9H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[12;41r[41;1H
[1;43r[40;5Hpost {[11;13H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K    [?25l[9;41r[9;1H[9T[1;43r[9;5H}[11dstage('Checkout') {[12;5Hsteps {[13;9Hgit([14durl: '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m,[15;13HcredentialsId: 'github-cred',[16;13Hbranch: 'main' // or the correct branch name[17;9H)[19d}[20d[?12l[?25h[?25l[?12l[?25h[A}[?25l[?12l[?25h[?25l[?12l[?25h[18;6H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[17;10H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[16;57H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25hb[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h-[?25l[?12l[?25hc[?25l[?12l[?25hr[?25l[?12l[?25he[?25l[?12l[?25hd[?25l[?12l[?25hs',[?25l[?12l[?25h[16d[?25l[?12l[?25h[17;10H[?25l[?12l[?25h[18;6H[?25l[?12l[?25h[19d}[?25l[?12l[?25h[20d[?25l[?12l[?25h[21d[?25l[?12l[?25h[22;38H[?25l[?12l[?25h[23;20H[?25l[?12l[?25h[24;25H[?25l[?12l[?25h[25;38H[?25l[?12l[?25h[26d[?25l[?12l[?25h[27d[?25l[?12l[?25h[28;18H[?25l[?12l[?25h[29;14H[?25l[?12l[?25h[30;10H[?25l[?12l[?25h[31d[?25l[?12l[?25h[32;38H[?25l[?12l[?25h[33;20H[?25l[?12l[?25h[34;38H[?25l[?12l[?25h[36d[?25l[?12l[?25h[37d[?25l[?12l[?25h[38d[?25l[?12l[?25h[39d[?25l[?12l[?25h[40;38H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[40;38H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;21H'''[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;17H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;13H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5Hpost {[?25l[?12l[?25h[A[?25l[?12l[?25h[38;6H[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A   }[?25l[?12l[?25h[34;24H[?25l[?12l[?25h[33;38H[?25l[?12l[?25h[A[?25l[?12l[?25h[31;38H[?25l[?12l[?25h[A[?25l[?12l[?25h[29;38H[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[26;27H[?25l[?12l[?25h[25;38H[?25l[?12l[?25h[24;20H[?25l[?12l[?25h[23;38H[?25l[?12l[?25h[A[?25l[?12l[?25h[21;10H[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A   }[?25l[?12l[?25h[18;38H[?25l[?12l[?25h[A[?25l[?12l[?25h[14;20H[?25l[?12l[?25h[11d[?25l[41;38H(B[0;7m[ line 19/54 (35%), col  1/ 1 (100%), char  441/1674 (26%) ](B[m[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13;38H[?25l[?12l[?25h[14;20H[?25l[?12l[?25h[15;25H[?25l[?12l[?25h[16;38H[?25l[?12l[?25h[17d[?25l[?12l[?25h[18d[?25l[?12l[?25h[19;18H[?25l[?12l[?25h[20;14H[?25l[?12l[?25h[21;10H[?25l[?12l[?25h[K[21;9H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[21;41r[41;1H
[1;43r[40;9Hfailure {[K[20;14H[?12l[?25h[?25l[?12l[?25h[K[20;13H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[20;41r[41;1H
[1;43r[40;13Hecho 'Build or deployment failed!'[19;18H[?12l[?25h[?25l[?12l[?25h[K[19;17H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[19;41r[41;1H
[1;43r[40;9H}[18;66H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[18;21H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[18;41r[41;1H
[1;43r[40;5H}[17;121H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K[17;21H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[17;41r[41;1H
[1;43r[40;1H}[16;72H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h[K[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[16;21H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[16;41r[41;1H
[1;43r[15;25H[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[15;17H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[15;41r[41;1H
[1;43r[14;20H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[14;13H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[14;41r[41;1H
[1;43r[13;39H[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[?12l[?25h[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[13;9H[?25l[?12l[?25h[?25l[19;28r[28;1H[5S[1;43r[15;41r[15;1H[14T[1;43r[13;8Hstage('Docker Build & Push') {[14;5Hsteps {[15;9Hscript {[16;13Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[18;13HwithCredentials([usernamePassword(credentialsId: 'docker-hub-creds',[19;46HusernameVariable: 'DOCKER_HUB_CREDENTIALS_USR',[20;46HpasswordVariable: 'DOCKER_HUB_CREDENTIALS_PSW')]) {[21;17Hsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[22;17Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[23;13H}[24;9H}[25;5H}[26d}[33;25Hexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[34;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[K[35;21H    export AWS_DEFAULT_REGION=ap-south-1[36d[K[37;24H[1K aws eks update-kubeconfig --name vkr-cluster --region ap-south-1[39;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[40;21H'''[27d[?12l[?25h[?25l[?12l[?25h[28d[?25l[?12l[?25h[30d[?25l[?12l[?25h[31d[?25l[?12l[?25h[32d[?25l[?12l[?25h[33d[?25l[?12l[?25h[34d[?25l[?12l[?25h[35d[?25l[?12l[?25h[36d[?25l[?12l[?25h[37d[?25l[?12l[?25h[38d[?25l[?12l[?25h[40d[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;17H}[39;13H}[40;9H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5Hpost {[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9Hfailure {[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;13Hecho 'Build or deployment failed!'[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;9H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;5H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 59 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[40d[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# lscleargit push -u origin maincommit -m "new jenkinsfie"add .[K
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .ls[Kcleargit push -u origin maincommit -m "new jenkinsfie" "c"r"e"d"
[?2004l[main c27bbbc] new jenkinsfie cred
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 101 insertions(+), 14 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m "new jenkinsfie cred"add .[Kls[Kcleargit push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
remote: Invalid username or token. Password authentication is not supported for Git operations.
fatal: Authentication failed for 'https://github.com/vishnukrajan007/KubeBridge.git/'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 5.55 KiB | 5.55 MiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   9c2a995..c27bbbc  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# rm Jenkinsfile
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano Jenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;62H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[41d[K[1;77H(B[0;7m*[134G(B[m[2;25Hexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[3;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[4;25Hexport AWS_DEFAULT_REGION=ap-south-1[6;25Haws eks update-kubeconfig --name vkr-cluster --region ap-south-1[8;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[9;21H'''[10;17H}[11;13H}[12;9H}[13;5H}[15dpost {[16dfailure {[17;13Hecho 'Build or deployment failed!'[18;9H}[19;5H}[20d}[21d[?12l[?25h[?25l[?12l[?25h[18d[?25l[?12l[?25h[15d[?25l[?12l[?25h[12d[?25l[?12l[?25h[9d[?25l[?12l[?25h[6d[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;41r[2;1H[2T[1;43r[2;17HwithCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVar(B[0;7m>[3;21H(B[msh '''[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[3;9Hstage('Deploy to Kubernetes') {[4;13Hsteps {[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;25Hsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[3;25Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[4;21H}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;17Hscript {[3;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[4;21HwithCredentials([usernamePassword(credentialsId: 'docker-hub-creds', usernameVariable: 'DOCKER_HUB_CREDENTIALS_USR(B[0;7m>[2;1H(B[m[?25l[?12l[?25h7[2;41r8[3T[1;43r[3;9Hstage('Docker Build & Push') {[4;13Hsteps {[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;17H)[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;21Hurl: '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m,[3;21HcredentialsId: 'git-creds',[4;21Hbranch: 'main'  // adjust if your default branch is different[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9Hstage('Checkout') {[3;13Hsteps {[4;17Hgit([2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;5H}[4dstages {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[3;9HIMAGE_TAG = 'latest'[4;9HKUBE_NAMESPACE = 'default'[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;5Hagent any[4;5Henvironment {[2d[?25l[?12l[?25h7[2;41r8M[1;43r[2;1Hpipeline {[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 55 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[2d[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano Jenkinsfile[2Prm[C[C[C[C[C[C[C[C[C[C[C[Cgit push -u origin maincommit -m "new jenkinsfie cred"add .[K
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .nano Jenkinsfile[2Prm[C[C[C[C[C[C[C[C[C[C[C[Cgit push -u origin maincommit -m "new jenkinsfie cred"s"s"
[?2004l[main 703358c] new jenkinsfie credss
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 58 insertions(+), 25 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m "new jenkinsfie credss"add .[Knano Jenkinsfile[2Prm[C[C[C[C[C[C[C[C[C[C[C[Cgit push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 864 bytes | 864.00 KiB/s, done.
Total 4 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/3)[Kremote: Resolving deltas:  33% (1/3)[Kremote: Resolving deltas:  66% (2/3)[Kremote: Resolving deltas: 100% (3/3)[Kremote: Resolving deltas: 100% (3/3), completed with 3 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   c27bbbc..703358c  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get svc
[?2004lNAME                 TYPE           CLUSTER-IP       EXTERNAL-IP                                                                PORT(S)        AGE
flaskapp-service     LoadBalancer   172.20.238.126   a96fd0c87246a4a6f976385e765474ca-1301782894.ap-south-1.elb.amazonaws.com   80:32279/TCP   33m
kubebridge-service   LoadBalancer   172.20.236.200   a53134f317a15419f803d5fdb09722fa-1560696456.ap-south-1.elb.amazonaws.com   80:31733/TCP   22h
kubernetes           ClusterIP      172.20.0.1       <none>                                                                     443/TCP        22h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl delte [C[1@e[C[C[Cservice [7mkubebridge-service[27mkubebridge-service
[?2004lservice "kubebridge-service" deleted


[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# 
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# 
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods
[?2004lNAME                          READY   STATUS    RESTARTS   AGE
flaskapp-6b99855f9-hgwjc      1/1     Running   0          39m
flaskapp-6b99855f9-npvv7      1/1     Running   0          39m
kubebridge-6cb5795499-lcqcl   1/1     Running   0          36m
kubebridge-6cb5795499-ljx4m   1/1     Running   0          36m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get node
[?2004lNAME                                        STATUS   ROLES    AGE   VERSION
ip-10-0-0-104.ap-south-1.compute.internal   Ready    <none>   22h   v1.33.0-eks-802817d
ip-10-0-0-233.ap-south-1.compute.internal   Ready    <none>   22h   v1.33.0-eks-802817d
ip-10-0-1-63.ap-south-1.compute.internal    Ready    <none>   22h   v1.33.0-eks-802817d
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get nodepodsdelete service kubebridge-serviceget svc[K
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                                PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.238.126   a96fd0c87246a4a6f976385e765474ca-1301782894.ap-south-1.elb.amazonaws.com   80:32279/TCP   39m
kubernetes         ClusterIP      172.20.0.1       <none>                                                                     443/TCP        22h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cd k8s
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cd [K[K[Kcat [7mdeployment.yaml[27mdeployment.yaml
[?2004lapiVersion: apps/v1
kind: Deployment
metadata:
  name: flaskapp
  labels:
    app: flaskapp
spec:
  replicas: 2
  selector:
    matchLabels:
      app: flaskapp
  template:
    metadata:
      labels:
        app: flaskapp
    spec:
      containers:
        - name: flaskapp
          image: vishnukrajan007/flaskapp:latest  # Updated via Jenkins
          ports:
            - containerPort: 8080
          imagePullPolicy: Always
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cat [7mingress.yaml[27mingress.yaml
[?2004lapiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: flaskapp-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  rules:
    - http:
        paths:
          - path: /
            pathType: Prefix
            backend:
              service:
                name: flaskapp-service
                port:
                  number: 80
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cat ingress.yaml[K[K[K[K[K[K[K[K[K[K[K[K[7mservice.yaml[27mservice.yaml
[?2004lapiVersion: v1
kind: Service
metadata:
  name: flaskapp-service
spec:
  selector:
    app: flaskapp
  ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
  type: LoadBalancer
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# [7mkubectl port-forward svc/flaskapp-service 8080:80[27m
[7mcurl http://localhost:8080/[27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl port-forward svc/flaskapp-service 8080:80
curl http://localhost:8080/
[A
[?2004lUnable to listen on port 8080: Listeners failed to create with the following errors: [unable to create listener: Error listen tcp4 127.0.0.1:8080: bind: address already in use unable to create listener: Error listen tcp6 [::1]:8080: bind: address already in use]
error: unable to listen on any of the requested ports: [{8080 8080}]
<html><head><meta http-equiv='refresh' content='1;url=/login?from=%2F'/><script id='redirect' data-redirect-url='/login?from=%2F' src='/static/fb0a5a66/scripts/redirect.js'></script></head><body style='background-color:white; color:white;'>
Authentication required
<!--
-->

</body></html>                                                                                                                                                                                                                                                                                                            [?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# 
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get pods
[?2004lNAME                          READY   STATUS    RESTARTS   AGE
flaskapp-6b99855f9-hgwjc      1/1     Running   0          47m
flaskapp-6b99855f9-npvv7      1/1     Running   0          47m
kubebridge-6cb5795499-lcqcl   1/1     Running   0          44m
kubebridge-6cb5795499-ljx4m   1/1     Running   0          44m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# [7mkubectl delete deployment kubebridge[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl delete deployment kubebridge
[A
[?2004ldeployment.apps "kubebridge" deleted
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl delete deployment kubebridgeget pods[K
[?2004lNAME                       READY   STATUS    RESTARTS   AGE
flaskapp-6b99855f9-hgwjc   1/1     Running   0          47m
flaskapp-6b99855f9-npvv7   1/1     Running   0          47m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get ingress
[?2004lNAME                 CLASS    HOSTS   ADDRESS   PORTS   AGE
flaskapp-ingress     <none>   *                 80      48m
kubebridge-ingress   <none>   *                 80      22h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get ingress[1P ingress[1P ingress[1P ingressd ingresse ingressl ingresse ingresst ingresse ingress[C ingress[1Pingress[7mkubebridge-ingress[27m ingress[1@kubebridge-ingress [C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K kubebridge-ingressikubebridge-ingressnkubebridge-ingressgkubebridge-ingressrkubebridge-ingressekubebridge-ingressskubebridge-ingressskubebridge-ingress kubebridge-ingress
[?2004lingress.networking.k8s.io "kubebridge-ingress" deleted
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl delete ingress kubebridge-ingress[22Pget ingress
[?2004lNAME               CLASS    HOSTS   ADDRESS   PORTS   AGE
flaskapp-ingress   <none>   *                 80      49m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get ingress[K[K[K[K[K[K[Ksvc
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                                PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.238.126   a96fd0c87246a4a6f976385e765474ca-1301782894.ap-south-1.elb.amazonaws.com   80:32279/TCP   49m
kubernetes         ClusterIP      172.20.0.1       <none>                                                                     443/TCP        23h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# [7mkubectl delete service flaskapp-service[27m
[7mkubectl apply -f service.yaml[27m
[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl delete service flaskapp-service
kubectl apply -f service.yaml
[A
[?2004lservice "flaskapp-service" deleted

service/flaskapp-service created
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# 
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl apply -f service.yamldelete service flaskapp-serviceget svc[K
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                               PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.130.181   ac5a4eeaa3fdc49b0887c06b09ccacf2-431284941.ap-south-1.elb.amazonaws.com   80:31813/TCP   28s
kubernetes         ClusterIP      172.20.0.1       <none>                                                                    443/TCP        23h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clearkubectl get svc
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                               PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.130.181   ac5a4eeaa3fdc49b0887c06b09ccacf2-431284941.ap-south-1.elb.amazonaws.com   80:31813/TCP   89s
kubernetes         ClusterIP      172.20.0.1       <none>                                                                    443/TCP        23h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get pods
[?2004lNAME                       READY   STATUS    RESTARTS   AGE
flaskapp-6b99855f9-hgwjc   1/1     Running   0          52m
flaskapp-6b99855f9-npvv7   1/1     Running   0          52m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get logs [7mflaskapp-6b99855f9-hgwjc[27mflaskapp-6b99855f9-hgwjc
[?2004lerror: the server doesn't have a resource type "logs"
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get logs flaskapp-6b99855f9-hgwjc[1P flaskapp-6b99855f9-hgwjc[C flaskapp-6b99855f9-hgwjc[1Pflaskapp-6b99855f9-hgwjc
[?2004lerror: the server doesn't have a resource type "log"
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get log flaskapp-6b99855f9-hgwjc[1P[1P[1P[C[C[C[Cs flaskapp-6b99855f9-hgwjc
[?2004l * Serving Flask app 'app'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.1.23:5000
[33mPress CTRL+C to quit[0m
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl  logs flaskapp-6b99855f9-hgwjc[2@get log[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# nano [7mdeployment.yaml[27mdeployment.yaml
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 22 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                deployment.yaml                                                          [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[32mapiVersion(B[0m: (B[mapps/v1[3d(B[0;1m[32mkind(B[0m: (B[mDeployment[4d(B[0;1m[32mmetadata(B[0m:[5;3H(B[0;1m[32mname(B[0m: (B[mflaskapp[6;3H(B[0;1m[32mlabels(B[0m:[7;5H(B[0;1m[32mapp(B[0m: (B[mflaskapp[8d(B[0;1m[32mspec(B[0m:[9;3H(B[0;1m[32mreplicas(B[0m: (B[0;1m[35m2[10;3H[32mselector(B[0m:[11;5H(B[0;1m[32mmatchLabels(B[0m:[12;7H(B[0;1m[32mapp(B[0m: (B[mflaskapp[13;3H(B[0;1m[32mtemplate(B[0m:[14;5H(B[0;1m[32mmetadata(B[0m:[15;7H(B[0;1m[32mlabels(B[0m:[16;9H(B[0;1m[32mapp(B[0m: (B[mflaskapp[17;5H(B[0;1m[32mspec(B[0m:[18;7H(B[0;1m[32mcontainers(B[0m:[19;8H(B[0;1m[33m[1K - [32mname(B[0m: (B[mflaskapp[20;11H(B[0;1m[32mimage(B[0m: (B[mvishnukrajan007/flaskapp:latest (B[0m[3m[36m # Updated via Jenkins[21;11H(B[0;1m[23m[32mports(B[0m:[22;12H(B[0;1m[33m[1K - [32mcontainerPort(B[0m: (B[0;1m[35m8080[23;11H[32mimagePullPolicy(B[0m: (B[mAlways[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h[17d[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[?12l[?25h[20d[?25l[?12l[?25h[21d[?25l[41d[K[?12l[?25h[22d[?25l[?12l[?25h[23d[?25l[?12l[?25h[24d[?25l[?12l[?25h[A[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[12G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25hA[?25l[?12l[?25hl[?25l[?12l[?25hw[?25l[?12l[?25ha[?25l[?12l[?25hy[?25l[?12l[?25hs[?25l[?12l[?25h[24d[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[15G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[24G[?25l[?12l[?25h[C[?25l[?12l[?25h[27G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[1;79H(B[0;7m*[134G(B[m[?12l[?25h[22;33H [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[41m [49m(B[m[K[?25l[?12l[?25h (B[0;1m[35m5[39m(B[m[?25l[?12l[?25h[41m [49m(B[m[K[?25l[?12l[?25h [?25l[?12l[?25h[22;15HcontainerPort:5[?25l[?12l[?25h[22;15H(B[0;1m[32mcontainerPort[C[39m(B[m[K[?25l[?12l[?25h[41m [49m(B[m[?25l[?12l[?25h (B[0;1m[35m5[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: deployment.yaml                                                                                                    [41;36H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;79H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 22 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[22;34H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# nano deployment.yamlls[Kclear[3Plsclear[3Plsnano deployment.yaml[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[7mingress.yaml[27mingress.yaml
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 17 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                  ingress.yaml                                                           [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[32mapiVersion(B[0m: (B[mnetworking.k8s.io/v1[3d(B[0;1m[32mkind(B[0m: (B[mIngress[4d(B[0;1m[32mmetadata(B[0m:[5;3H(B[0;1m[32mname(B[0m: (B[mflaskapp-ingress[6;3H(B[0;1m[32mannotations(B[0m:[7;5H(B[0;1m[32mnginx.ingress.kubernetes.io/rewrite-target(B[0m: (B[m/[8d(B[0;1m[32mspec(B[0m:[9;3H(B[0;1m[32mrules(B[0m:[10d(B[0;1m[33m    - [32mhttp(B[0m:[11;9H(B[0;1m[32mpaths(B[0m:[12;10H(B[0;1m[33m[1K - [32mpath(B[0m: (B[m/[13;13H(B[0;1m[32mpathType(B[0m: (B[mPrefix[14;13H(B[0;1m[32mbackend(B[0m:[15;15H(B[0;1m[32mservice(B[0m:[16;17H(B[0;1m[32mname(B[0m: (B[mflaskapp-service[17;17H(B[0;1m[32mport(B[0m:[18;19H(B[0;1m[32mnumber(B[0m: (B[0;1m[35m80[2d[39m(B[m[?12l[?25h[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: ingress.yaml                                                                                                       [41;33H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;134H[41;59H(B[0;7m[ Wrote 17 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[2d[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# nano ingress.yaml[K[K[K[K[K[K[K[K[K[K[K[K[7mservice.yaml[27mservice.yaml
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 12 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                  service.yaml                                                           [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[32mapiVersion(B[0m: (B[mv1[3d(B[0;1m[32mkind(B[0m: (B[mService[4d(B[0;1m[32mmetadata(B[0m:[5;3H(B[0;1m[32mname(B[0m: (B[mflaskapp-service[6d(B[0;1m[32mspec(B[0m:[7;3H(B[0;1m[32mselector(B[0m:[8;5H(B[0;1m[32mapp(B[0m: (B[mflaskapp[9;3H(B[0;1m[32mports(B[0m:[10d(B[0;1m[33m    - [32mprotocol(B[0m: (B[mTCP[11;7H(B[0;1m[32mport(B[0m: (B[0;1m[35m80[12;7H[32mtargetPort(B[0m: (B[0;1m[35m8080[13;3H[32mtype(B[0m: (B[mLoadBalancer[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[41d[K[?12l[?25h[11;12H[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[12d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[13d[?25l[?12l[?25h[12;23H[?25l[1;78H(B[0;7m*[134G(B[m[?12l[?25h[12;22H [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[41m [49m(B[m[K[?25l[?12l[?25h (B[0;1m[35m5[39m(B[m[?25l[?12l[?25h[41m [49m(B[m[K[?25l[?12l[?25h [?25l[?12l[?25h[7GtargetPort:5[?25l[?12l[?25h[7G(B[0;1m[32mtargetPort[C[39m(B[m[K[?25l[?12l[?25h[41m [49m(B[m[?25l[?12l[?25h (B[0;1m[35m5[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[?12l[?25h(B[0;1m[35m0[39m(B[m[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: service.yaml                                                                                                       [41;33H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;78H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 12 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[12;23H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl apply -f [7mdeployment.yaml[27mdeployment.yaml
[?2004ldeployment.apps/flaskapp configured
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl apply -f deployment.yaml[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[7mingress.yaml[27mingress.yaml
[?2004lingress.networking.k8s.io/flaskapp-ingress unchanged
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl apply -f ingress.yamldeployment.yaml[15Pnano service.yamlingress.yamlservice.yamlingress.yamlservice.yamlkubectl apply -f deployment.yaml[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[7mservice.yaml[27mservice.yaml
[?2004lservice/flaskapp-service configured
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl get svc
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                               PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.130.181   ac5a4eeaa3fdc49b0887c06b09ccacf2-431284941.ap-south-1.elb.amazonaws.com   80:31813/TCP   5m33s
kubernetes         ClusterIP      172.20.0.1       <none>                                                                    443/TCP        23h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clearkubectl get svc
[?2004lNAME               TYPE           CLUSTER-IP       EXTERNAL-IP                                                               PORT(S)        AGE
flaskapp-service   LoadBalancer   172.20.130.181   ac5a4eeaa3fdc49b0887c06b09ccacf2-431284941.ap-south-1.elb.amazonaws.com   80:31813/TCP   7m11s
kubernetes         ClusterIP      172.20.0.1       <none>                                                                    443/TCP        23h
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cd ..
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano app.py
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                     app.py                                                              [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[36mfrom[39m(B[m flask (B[0;1m[36mimport[39m(B[m Flask[4dapp = Flask(__name__)[6d@app.route((B[0;1m[32m'/'[39m(B[m)[7d(B[0;1m[36mdef[34m home[39m(B[m():[8;5H(B[0;1m[36mreturn[39m(B[m (B[0;1m[32m"Hello from the new Flask app!"[10d[36mif[39m(B[m __name__ == (B[0;1m[32m'__main__'[39m(B[m:[11;5Happ.run(host=(B[0;1m[32m'0.0.0.0'[39m(B[m, port=5000)[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[7G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[41d[K[?12l[?25h[8;15H[?25l[?12l[?25h[17G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[40G[?25l[?12l[?25h[C[?25l[1;75H(B[0;7m*[134G(B[m[?12l[?25h[8;39H(B[0;1m[32mp!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32mV!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mi!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32ms!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mh!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mn!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mu!"[39m(B[m[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: app.py                                                                                                             [41;27H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;75H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 10 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[8;30H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m ""a"p"p"
[?2004l[main 9e674f9] app
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 4 files changed, 239 insertions(+), 4 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u orif[Kgin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 13, done.
Counting objects:   7% (1/13)Counting objects:  15% (2/13)Counting objects:  23% (3/13)Counting objects:  30% (4/13)Counting objects:  38% (5/13)Counting objects:  46% (6/13)Counting objects:  53% (7/13)Counting objects:  61% (8/13)Counting objects:  69% (9/13)Counting objects:  76% (10/13)Counting objects:  84% (11/13)Counting objects:  92% (12/13)Counting objects: 100% (13/13)Counting objects: 100% (13/13), done.
Delta compression using up to 2 threads
Compressing objects:  14% (1/7)Compressing objects:  28% (2/7)Compressing objects:  42% (3/7)Compressing objects:  57% (4/7)Compressing objects:  71% (5/7)Compressing objects:  85% (6/7)Compressing objects: 100% (7/7)Compressing objects: 100% (7/7), done.
Writing objects:  14% (1/7)Writing objects:  28% (2/7)Writing objects:  42% (3/7)Writing objects:  57% (4/7)Writing objects:  71% (5/7)Writing objects:  85% (6/7)Writing objects: 100% (7/7)Writing objects: 100% (7/7), 4.89 KiB | 2.44 MiB/s, done.
Total 7 (delta 5), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/5)[Kremote: Resolving deltas:  20% (1/5)[Kremote: Resolving deltas:  40% (2/5)[Kremote: Resolving deltas:  60% (3/5)[Kremote: Resolving deltas:  80% (4/5)[Kremote: Resolving deltas: 100% (5/5)[Kremote: Resolving deltas: 100% (5/5), completed with 5 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   703358c..9e674f9  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cat app.py
[?2004lfrom flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return "Hello from Vishnu!"

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# [7mkubectl rollout restart deployment flaskapp[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl rollout restart deployment flaskapp
[A
[?2004ldeployment.apps/flaskapp restarted
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# [7mkubectl get pods -o wide[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl get pods -o wide
[A
[?2004lNAME                        READY   STATUS              RESTARTS   AGE   IP          NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-54985cf84b-2r8c8   1/1     Running             0          13m   10.0.1.59   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-54985cf84b-qh9ql   1/1     Running             0          13m   10.0.0.66   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-4nwrf   0/1     ContainerCreating   0          8s    <none>      ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods -o widerollout restart deployment flaskapp[19Pget pods -o wide
[?2004lNAME                        READY   STATUS              RESTARTS   AGE   IP           NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-54985cf84b-2r8c8   1/1     Running             0          13m   10.0.1.59    ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-54985cf84b-qh9ql   1/1     Terminating         0          13m   10.0.0.66    ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-4nwrf   1/1     Running             0          21s   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-kk5ht   0/1     ContainerCreating   0          8s    <none>       ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods -o wide -w
[?2004lNAME                        READY   STATUS        RESTARTS   AGE   IP           NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-54985cf84b-2r8c8   1/1     Terminating   0          13m   10.0.1.59    ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-54985cf84b-qh9ql   1/1     Terminating   0          13m   10.0.0.66    ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-4nwrf   1/1     Running       0          26s   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-kk5ht   1/1     Running       0          13s   10.0.1.174   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
^C[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods -o wide -w[Krollout restart deployment flaskappcat app.py[Kgit push -u origin main[4Pcommit -m "app"[10Padd .nano app.py
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                     app.py                                                              [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[36mfrom[39m(B[m flask (B[0;1m[36mimport[39m(B[m Flask[4dapp = Flask(__name__)[6d@app.route((B[0;1m[32m'/'[39m(B[m)[7d(B[0;1m[36mdef[34m home[39m(B[m():[8;5H(B[0;1m[36mreturn[39m(B[m (B[0;1m[32m"Hello from Vishnu!"[10d[36mif[39m(B[m __name__ == (B[0;1m[32m'__main__'[39m(B[m:[11;5Happ.run(host=(B[0;1m[32m'0.0.0.0'[39m(B[m, port=5000)[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[41d[K[?12l[?25h[8;15H[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[1;75H(B[0;7m*[134G(B[m[?12l[?25h[8;30H(B[0;1m[32mt!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m !"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mt!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mh!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32me!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m !"[39m(B[m[?25l[?12l[?25h(B[0;1m[32md!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32me!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mv!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mo!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mp!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32ms!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m !"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mk!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mi!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mn!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32mg!"[39m(B[m[?25l[?12l[?25h[7;12H[?25l7[8;41r8[8dM[1;43r[8;1H[?12l[?25h[?25l[8;41r[41;1H
[1;43r[7;12H[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10;12H[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: app.py                                                                                                             [41;27H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;75H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 10 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[10;12H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano app.pykubectl get pods -o wide -w[16Pnano app.pykubectl get pods -o wide -w[Krollout restart deployment flaskappcat app.py[Kgit push -u origin main[4Pcommit -m "app"[10Padd .nano app.py[2Pgit add .
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add .nano app.pykubectl get pods -o wide -w[Krollout restart deployment flaskappcat app.py[Kgit push -u origin main[4Pcommit -m "app"1"
[?2004l[main 06938e8] app1
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 69 insertions(+), 2 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m "app1"add .[Knano app.pykubectl get pods -o wide -w[Krollout restart deployment flaskappcat app.py[Kgit push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 1.81 KiB | 1.81 MiB/s, done.
Total 4 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/3)[Kremote: Resolving deltas:  33% (1/3)[Kremote: Resolving deltas:  66% (2/3)[Kremote: Resolving deltas: 100% (3/3)[Kremote: Resolving deltas: 100% (3/3), completed with 3 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   9e674f9..06938e8  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u origin main[3Pcommit -m "app1"add .[Knano app.pykubectl get pods -o wide -w[Krollout restart deployment flaskapp
[?2004ldeployment.apps/flaskapp restarted
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl rollout restart deployment flaskapp[20Pgit push -u origin main[3Pcommit -m "app1"add .[Knano app.pykubectl get pods -o wide -w[K -w
[?2004lNAME                        READY   STATUS              RESTARTS   AGE   IP           NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-7f8d579545-4nwrf   1/1     Terminating         0          38m   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-kk5ht   1/1     Running             0          38m   10.0.1.174   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-52jnv    1/1     Running             0          18s   10.0.0.122   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-rbhc5    0/1     ContainerCreating   0          5s    <none>       ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-rbhc5    1/1     Running             0          10s   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-7f8d579545-kk5ht   1/1     Terminating         0          38m   10.0.1.174   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-7f8d579545-4nwrf   0/1     Error               0          39m   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-4nwrf   0/1     Error               0          39m   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-7f8d579545-4nwrf   0/1     Error               0          39m   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
^C[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# clearkubectl get pods -o wide -wrollout restart deployment flaskapp[20Pgit push -u origin main[3Pcommit -m "app1"add .[Knano app.pykubectl get pods -o wide -w[Krollout restart deployment flaskappcat app.py[Kgit push -u origin main[4Pcommit -m "app"[10Padd .nano app.py[K[K[K[K[K[K[K[K[K[K[Kls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cat [7mDockerfile[27mDockerfile
[?2004l# Use official Python image as base
FROM python:3.9-slim

# Set working directory inside the container
WORKDIR /app

# Copy the Flask app code into the container
COPY app.py .

# Install Flask
RUN pip install Flask

# Expose port 5000 to the outside
EXPOSE 5000

# Command to run the app
CMD ["python", "app.py"]

[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cat [7mJenkinsfile[27mJenkinsfile
[?2004lpipeline {
    agent any

    environment {
        DOCKER_IMAGE = 'vishnukrajan007/flaskapp'
        IMAGE_TAG = 'latest'
        KUBE_NAMESPACE = 'default'
    }

    stages {
        stage('Checkout') {
            steps {
                git(
                    url: 'https://github.com/vishnukrajan007/KubeBridge.git',
                    credentialsId: 'git-creds',
                    branch: 'main'  // adjust if your default branch is different
                )
            }
        }

        stage('Docker Build & Push') {
            steps {
                script {
                    sh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."
                    withCredentials([usernamePassword(credentialsId: 'docker-hub-creds', usernameVariable: 'DOCKER_HUB_CREDENTIALS_USR', passwordVariable: 'DOCKER_HUB_CREDENTIALS_PSW')]) {
                        sh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"
                        sh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"
                    }
                }
            }
        }

        stage('Deploy to Kubernetes') {
            steps {
                withCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVariable: 'AWS_SECRET_ACCESS_KEY')]) {
                    sh '''
                        export AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
                        export AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
                        export AWS_DEFAULT_REGION=ap-south-1

                        aws eks update-kubeconfig --name vkr-cluster --region ap-south-1

                        kubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}
                    '''
                }
            }
        }
    }

    post {
        failure {
            echo 'Build or deployment failed!'
        }
    }
}
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# l[Kcat [7mapp.py[27mapp.py
[?2004lfrom flask import Flask

app = Flask(__name__)

@app.route('/')
def home():
    return "Hello from Vishnu the devops king!"

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# clea
[?2004lCommand 'clea' not found, did you mean:
  command 'clera' from snap clera (1.2)
  command 'clear' from deb ncurses-bin (6.4+20231209-1)
  command 'cleo' from deb cleo (0.004-4)
  command 'clex' from deb clex (4.6.patch8-1)
See 'snap info <snapname>' for additional versions.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# l[Kclear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cd k8s
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# k[Kcd eks
[?2004lbash: cd: eks: No such file or directory
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cat [7mdeployment.yaml[27mdeployment.yaml
[?2004lapiVersion: apps/v1
kind: Deployment
metadata:
  name: flaskapp
  labels:
    app: flaskapp
spec:
  replicas: 2
  selector:
    matchLabels:
      app: flaskapp
  template:
    metadata:
      labels:
        app: flaskapp
    spec:
      containers:
        - name: flaskapp
          image: vishnukrajan007/flaskapp:latest  # Updated via Jenkins
          ports:
            - containerPort: 5000
          imagePullPolicy: Always
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cd ..
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# rm [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;62H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[1;77H(B[0;7m*[41d(B[m[K[1;134H[3;24H[36m[1K # Update deployment with new image[4;25H[39m(B[mkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[5;25H'''[6;21H}[7;17H}[8;13H}[9;9H}[10;5H}[12dpost {[13dfailure {[14;13Hecho '❌ Build or deployment failed!'[15;9H}[16dsuccess {[17;13Hecho '✅ Build and deployment successful!'[18;9H}[19;5H}[20d}[21d[?12l[?25h[?25l[?12l[?25h[18d[?25l[?12l[?25h[15d[?25l[?12l[?25h[12d[?25l[?12l[?25h[9d[?25l[?12l[?25h[6d[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;41r[2;1H[2T[1;43r[2;24H[36m[1K # Update kubeconfig[3;25H[39m(B[maws eks update-kubeconfig --name vkr-cluster --region ap-south-1[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[3;25Hexport AWS_DEFAULT_REGION=ap-south-1[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;21Hscript {[3;25Hsh '''[4;25Hexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;9Hstage('Deploy to Kubernetes') {[3;13Hsteps {[4;17HwithCredentials([usernamePassword(credentialsId: 'aws-credentials', usernameVariable: 'AWS_ACCESS_KEY_ID', passwordVar(B[0;7m>[2;1H(B[m[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;13H}[3;9H}[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;25Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[3;21H}[4;17H}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[3;21HwithCredentials([usernamePassword(credentialsId: 'docker-hub-creds', usernameVariable: 'DOCKER_HUB_USERNAME', pass(B[0;7m>[4;25H(B[msh "echo $DOCKER_HUB_PASSWORD | docker login -u $DOCKER_HUB_USERNAME --password-stdin"[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9Hstage('Docker Build & Push') {[3;13Hsteps {[4;17Hscript {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13H}[3;9H}[A[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;21HcredentialsId: 'git-creds',[3;21Hbranch: 'main' // or 'master' if that's your default branch[4;17H)[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13Hsteps {[3;17Hgit([4durl: '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m,[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Hstages {[4;9Hstage('Checkout') {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9HIMAGE_TAG = 'latest'[3;9HKUBE_NAMESPACE = 'default'[4;5H}[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Henvironment {[4;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[2d[?25l[?12l[?25h7[2;40r8[2T[1;43r[2;1Hpipeline {[3;5Hagent any[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[5d[?25l[?12l[?25h[8d[?25l[?12l[?25h[11d[?25l[?12l[?25h[14d[?25l[?12l[?25h[17d[?25l[?12l[?25h[20d[?25l[?12l[?25h[23d[?25l[?12l[?25h[26d[?25l[?12l[?25h[29d[?25l[?12l[?25h[32d[?25l[?12l[?25h[35d[?25l[?12l[?25h[38d[?25l[?12l[?25h[2;41r[41;1H
[1;43r[40;25Hexport AWS_DEFAULT_REGION=ap-south-1[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[39;24H[36m[1K # Update kubeconfig[40;25H[39m(B[maws eks update-kubeconfig --name vkr-cluster --region ap-south-1[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[39;24H[36m[1K # Update deployment with new image[40;25H[39m(B[mkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;25H'''[39;21H}[40;17H}[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;13H}[39;9H}[40;5H}[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[39;5Hpost {[40dfailure {[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;13Hecho '❌ Build or deployment failed!'[39;9H}[40dsuccess {[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;13Hecho '✅ Build and deployment successful!'[39;9H}[40;5H}[?25l[?12l[?25h7[2;41r8[41d[2S[1;43r[39;1H}[40d[?25l[?12l[?25h[?25l[?12l[?25h[37d[?25l[?12l[?25h[34d[?25l[?12l[?25h[31d[?25l[?12l[?25h[28d[?25l[?12l[?25h[25d[?25l[?12l[?25h[22d[?25l[?12l[?25h[19d[?25l[?12l[?25h[16d[?25l[?12l[?25h[13d[?25l[?12l[?25h[10d[?25l[?12l[?25h[7d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;41r[2;1HM[1;43r[2;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9Hstage('Docker Build & Push') {[3;13Hsteps {[4;17Hscript {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13H}[3;9H}[A[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;21HcredentialsId: 'git-creds',[3;21Hbranch: 'main' // or 'master' if that's your default branch[4;17H)[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13Hsteps {[3;17Hgit([4durl: '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m,[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Hstages {[4;9Hstage('Checkout') {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9HIMAGE_TAG = 'latest'[3;9HKUBE_NAMESPACE = 'default'[4;5H}[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Henvironment {[4;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[2d[?25l[?12l[?25h[5d[?25l[?12l[?25h[8d[?25l[?12l[?25h[11d[?25l[?12l[?25h[14d[?25l[?12l[?25h[17d[?25l[?12l[?25h[20d[?25l[?12l[?25h[23d[?25l[?12l[?25h[26d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25hs[?25l[?12l[?25hh[?25l[?12l[?25h [?25l[?12l[?25h"[?25l[?12l[?25hd[?25l[?12l[?25ho[?25l[?12l[?25hc[?25l[?12l[?25hk[?25l[?12l[?25he[?25l[?12l[?25hr[?25l[?12l[?25h [?25l[?12l[?25hp[?25l[?12l[?25hu[?25l[?12l[?25hs[?25l[?12l[?25hh[?25l[?12l[?25h [?25l[?12l[?25h$[?25l[?12l[?25h{[?25l[?12l[?25hD[?25l[?12l[?25hO[?25l[?12l[?25hC[?25l[?12l[?25hK[?25l[?12l[?25hE[?25l[?12l[?25hR[?25l[?12l[?25h_[?25l[?12l[?25hI[?25l[?12l[?25hM[?25l[?12l[?25hA[?25l[?12l[?25hG[?25l[?12l[?25hE[?25l[?12l[?25h}[?25l[?12l[?25h:[?25l[?12l[?25h$[?25l[?12l[?25h{I[?25l[?12l[?25hM[?25l[?12l[?25hA[?25l[?12l[?25hG[?25l[?12l[?25hE[?25l[?12l[?25h_[?25l[?12l[?25hT[?25l[?12l[?25hA[?25l[?12l[?25hG[?25l[?12l[?25h}[?25l[?12l[?25h"[?25l[?12l[?25h[27d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h  [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h  [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h}[?25l[?12l[?25h[28d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[31d[?25l[?12l[?25h[34;9H[?25l[?12l[?25h[37d[?25l[?12l[?25h[40d[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;24H[36m[1K # Update kubeconfig[39;25H[39m(B[maws eks update-kubeconfig --name vkr-cluster --region ap-south-1[40d[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;24H[36m[1K # Update deployment with new image[39;25H[39m(B[mkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[40;25H'''[40;9H[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;21H}[39;17H}[40;13H}[9G[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;9H}[39;5H}[40d[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;5Hpost {[39dfailure {[40;13Hecho '❌ Build or deployment failed!'[40;9H[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;9H}[39dsuccess {[40;13Hecho '✅ Build and deployment successful!'[40;9H[?25l[?12l[?25h7[2;41r8[41d[3S[1;43r[38;9H}[39;5H}[40d}[?25l[?12l[?25h7[2;41r8[41d
[1;43r[40;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[37;9H[?25l[?12l[?25h[34d[?25l[?12l[?25h[31d[?25l[?12l[?25h[28d[?25l[?12l[?25h[25d[?25l[?12l[?25h[22d[?25l[?12l[?25h[19d[?25l[?12l[?25h[16d[?25l[?12l[?25h[13d[?25l[?12l[?25h[10d[?25l[?12l[?25h[7d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;41r[2;1HM[1;43r[2;21Hsh "docker build -t ${DOCKER_IMAGE}:${IMAGE_TAG} ."[2;9H[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9Hstage('Docker Build & Push') {[3;13Hsteps {[4;17Hscript {[2;9H[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13H}[3;9H}[A[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;21HcredentialsId: 'git-creds',[3;21Hbranch: 'main' // or 'master' if that's your default branch[4;17H)[2;9H[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;13Hsteps {[3;17Hgit([4durl: '(B[0;1m[34mhttps://github.com/vishnukrajan007/KubeBridge.git'[39m(B[m,[2;9H[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Hstages {[4;9Hstage('Checkout') {[2d[?25l[?12l[?25h7[2;40r8[3T[1;43r[2;9HIMAGE_TAG = 'latest'[3;9HKUBE_NAMESPACE = 'default'[4;5H}[2;9H[?25l[?12l[?25h7[2;40r8[3T[1;43r[3;5Henvironment {[4;9HDOCKER_IMAGE = 'vishnukrajan007/flaskapp'[2d[?25l[?12l[?25h7[2;40r8[2T[1;43r[2;1Hpipeline {[3;5Hagent any[2;9H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 62 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[2;9H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# fir[K[K[Kgit add .
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# go[Kit commit -m ""j"e"n"k"i"n"s"f"i"l"e"-"t"a"g"
[?2004l[main 8b3bcff] jenkinsfile-tag
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 196 insertions(+), 7 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 2 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 3.12 KiB | 1.56 MiB/s, done.
Total 4 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/3)[Kremote: Resolving deltas:  33% (1/3)[Kremote: Resolving deltas:  66% (2/3)[Kremote: Resolving deltas: 100% (3/3)[Kremote: Resolving deltas: 100% (3/3), completed with 3 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   06938e8..8b3bcff  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano app.py
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                     app.py                                                              [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[36mfrom[39m(B[m flask (B[0;1m[36mimport[39m(B[m Flask[4dapp = Flask(__name__)[6d@app.route((B[0;1m[32m'/'[39m(B[m)[7d(B[0;1m[36mdef[34m home[39m(B[m():[8;5H(B[0;1m[36mreturn[39m(B[m (B[0;1m[32m"Hello from Vishnu the devops king!"[10d[36mif[39m(B[m __name__ == (B[0;1m[32m'__main__'[39m(B[m:[11;5Happ.run(host=(B[0;1m[32m'0.0.0.0'[39m(B[m, port=5000)[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[6G[?25l[?12l[?25h[8G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[41d[K[?12l[?25h[8;15H[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[23G[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[1;75H(B[0;7m*[134G(B[m[?12l[?25h[8;40H[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[4P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[2P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: app.py                                                                                                             [41;27H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;75H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 10 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[8;18H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add app.py
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m ""a"p"p"-"k"i"n"g"
[?2004l[main 846bc8b] app-king
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 1 insertion(+), 1 deletion(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push 0[K-u i[Korigin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 2 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)Writing objects:  66% (2/3)Writing objects: 100% (3/3)Writing objects: 100% (3/3), 297 bytes | 297.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   8b3bcff..846bc8b  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push -u origin maincommit -m "app-king"[10Padd app.py[3Pnano[C[C[C[C[C[C[Cls[Kgit push -u origin main[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kkubectl rollout[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kgit commit -m "jenkinsfile-tag"add .[Knano Jenkinsfile[2Prm[C[C[C[C[C[C[C[C[C[C[C[Cls[Kcd ..at deployment.yamlls[Kcd eks[4Plscd k8s[4Plsclear[Kat app.pyJenkinsfile[1PDockerfilels[Kclearkubectl get pods -o wide -wrollout restart deployment flaskapp[20Pgit push -u origin main[3Pcommit -m "app1"add .[Kcommit -m "app1"push -u origin mainkubectl rollout restart deployment flaskapp
[?2004ldeployment.apps/flaskapp restarted
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods -o wide -w
[?2004lNAME                        READY   STATUS              RESTARTS   AGE   IP           NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-7c4cb96d7b-67l6m   0/1     ContainerCreating   0          5s    <none>       ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-7c4cb96d7b-qzjs7   1/1     Running             0          17s   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-52jnv    1/1     Terminating         0          11m   10.0.0.122   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-rbhc5    1/1     Running             0          10m   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-7c4cb96d7b-67l6m   1/1     Running             0          6s    10.0.1.59    ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-rbhc5    1/1     Terminating         0          10m   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-52jnv    0/1     Error               0          11m   10.0.0.122   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-52jnv    0/1     Error               0          11m   10.0.0.122   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-52jnv    0/1     Error               0          11m   10.0.0.122   ip-10-0-0-104.ap-south-1.compute.internal   <none>           <none>
flaskapp-cb8d6549c-rbhc5    0/1     Error               0          11m   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-rbhc5    0/1     Error               0          11m   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-cb8d6549c-rbhc5    0/1     Error               0          11m   10.0.1.113   ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
^C[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# kubectl get pods -o wide -w
[?2004lNAME                        READY   STATUS    RESTARTS   AGE   IP           NODE                                        NOMINATED NODE   READINESS GATES
flaskapp-7c4cb96d7b-67l6m   1/1     Running   0          47s   10.0.1.59    ip-10-0-1-63.ap-south-1.compute.internal    <none>           <none>
flaskapp-7c4cb96d7b-qzjs7   1/1     Running   0          59s   10.0.0.176   ip-10-0-0-233.ap-south-1.compute.internal   <none>           <none>
^C[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# [7mkubectl get deployment flaskapp -o yaml[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl get deployment flaskapp -o yaml
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kclear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# [7mkubectl get deployment flaskapp -o yaml[27m
[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ckubectl get deployment flaskapp -o yaml
[A
[?2004lapiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    deployment.kubernetes.io/revision: "5"
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"flaskapp"},"name":"flaskapp","namespace":"default"},"spec":{"replicas":2,"selector":{"matchLabels":{"app":"flaskapp"}},"template":{"metadata":{"labels":{"app":"flaskapp"}},"spec":{"containers":[{"image":"vishnukrajan007/flaskapp:latest","imagePullPolicy":"Always","name":"flaskapp","ports":[{"containerPort":5000}]}]}}}}
  creationTimestamp: "2025-08-01T18:17:31Z"
  generation: 5
  labels:
    app: flaskapp
  name: flaskapp
  namespace: default
  resourceVersion: "249986"
  uid: dafe4950-35fb-4cd4-a26d-e633b3f85b40
spec:
  progressDeadlineSeconds: 600
  replicas: 2
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: flaskapp
  strategy:
    rollingUpdate:
      maxSurge: 25%
      maxUnavailable: 25%
    type: RollingUpdate
  template:
    metadata:
      annotations:
        kubectl.kubernetes.io/restartedAt: "2025-08-01T20:15:52Z"
      creationTimestamp: null
      labels:
        app: flaskapp
    spec:
      containers:
      - image: vishnukrajan007/flaskapp:latest
        imagePullPolicy: Always
        name: flaskapp
        ports:
        - containerPort: 5000
          protocol: TCP
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
status:
  availableReplicas: 2
  conditions:
  - lastTransitionTime: "2025-08-01T18:17:47Z"
    lastUpdateTime: "2025-08-01T18:17:47Z"
    message: Deployment has minimum availability.
    reason: MinimumReplicasAvailable
    status: "True"
    type: Available
  - lastTransitionTime: "2025-08-01T18:17:31Z"
    lastUpdateTime: "2025-08-01T20:16:10Z"
    message: ReplicaSet "flaskapp-7c4cb96d7b" has successfully progressed.
    reason: NewReplicaSetAvailable
    status: "True"
    type: Progressing
  observedGeneration: 5
  readyReplicas: 2
  replicas: 2
  updatedReplicas: 2
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ^C[?2004l[?2004h[?2004l
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# rm Jenkinsfile
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# nano [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;62H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 7.2                                                  Jenkinsfile                                                            [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d[?12l[?25h[?25l[41d[K[1;77H(B[0;7m*[134G(B[m[2;25Hexport AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}[3;25Hexport AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}[4;25Hexport AWS_DEFAULT_REGION=ap-south-1[6;25Haws eks update-kubeconfig --name vkr-cluster --region ap-south-1[8;25Hkubectl set image deployment/flaskapp flaskapp=${DOCKER_IMAGE}:${IMAGE_TAG} -n ${KUBE_NAMESPACE}[9;21H'''[10;17H}[11;13H}[12;9H}[13;5H}[15dpost {[16dfailure {[17;13Hecho 'Build or deployment failed!'[18;9H}[19;5H}[20d}[21d[?12l[?25h[?25l[?12l[?25h[18d[?25l[?12l[?25h[15d[?25l[?12l[?25h[12d[?25l[?12l[?25h[9d[?25l[?12l[?25h[6d[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;41r[2;1H[2T[1;43r[2;17H)]) {[3dsh '''[A[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;21HcredentialsId: 'aws-credentials',[3;21HusernameVariable: 'AWS_ACCESS_KEY_ID',[4;21HpasswordVariable: 'AWS_SECRET_ACCESS_KEY'[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;9Hstage('Deploy to Kubernetes') {[3;13Hsteps {[4;17HwithCredentials([usernamePassword([2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;13H}[3;9H}[A[?25l[?12l[?25h7[2;41r8[6T[1;43r[2;25HpasswordVariable: 'DOCKER_HUB_CREDENTIALS_PSW'[3;21H)]) {[4dsh "echo $DOCKER_HUB_CREDENTIALS_PSW | docker login -u $DOCKER_HUB_CREDENTIALS_USR --password-stdin"[5;25Hsh "docker push ${DOCKER_IMAGE}:${IMAGE_TAG}"[6;21H}[7;17H}[2d[?25l[?12l[?25h7[2;41r8[3T[1;43r[2;21HwithCredentials([usernamePassword([3;25HcredentialsId: 'docker-hub-creds',[4;25HusernameVariable: 'DOCKER_HUB_CREDENTIALS_USR',[2d[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: Jenkinsfile                                                                                                        [41;32H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;77H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 66 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[2d[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# cd k8s
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# ls
[?2004ldeployment.yaml  ingress.yaml  service.yaml
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# m[Knsno [7mdeployment.yaml[27mdeployment.yaml
[?2004lCommand 'nsno' not found, did you mean:
  command 'nano' from snap nano (7.2+pkg-4057)
  command 'nino' from snap nino (1.3.1)
  command 'nano' from deb nano (7.2-2ubuntu0.1)
See 'snap info <snapname>' for additional versions.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# nano [7mdeployment.yaml[27mdeployment.yaml
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 22 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                deployment.yaml                                                          [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[32mapiVersion(B[0m: (B[mapps/v1[3d(B[0;1m[32mkind(B[0m: (B[mDeployment[4d(B[0;1m[32mmetadata(B[0m:[5;3H(B[0;1m[32mname(B[0m: (B[mflaskapp[6;3H(B[0;1m[32mlabels(B[0m:[7;5H(B[0;1m[32mapp(B[0m: (B[mflaskapp[8d(B[0;1m[32mspec(B[0m:[9;3H(B[0;1m[32mreplicas(B[0m: (B[0;1m[35m2[10;3H[32mselector(B[0m:[11;5H(B[0;1m[32mmatchLabels(B[0m:[12;7H(B[0;1m[32mapp(B[0m: (B[mflaskapp[13;3H(B[0;1m[32mtemplate(B[0m:[14;5H(B[0;1m[32mmetadata(B[0m:[15;7H(B[0;1m[32mlabels(B[0m:[16;9H(B[0;1m[32mapp(B[0m: (B[mflaskapp[17;5H(B[0;1m[32mspec(B[0m:[18;7H(B[0;1m[32mcontainers(B[0m:[19;8H(B[0;1m[33m[1K - [32mname(B[0m: (B[mflaskapp[20;11H(B[0;1m[32mimage(B[0m: (B[mvishnukrajan007/flaskapp:latest (B[0m[3m[36m # Updated via Jenkins[21;11H(B[0;1m[23m[32mports(B[0m:[22;12H(B[0;1m[33m[1K - [32mcontainerPort(B[0m: (B[0;1m[35m5000[23;11H[32mimagePullPolicy(B[0m: (B[mAlways[2d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[41d[K[?12l[?25h[19;2H[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[20d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25hvi[?25l[?12l[?25hs[?25l[?12l[?25hh[?25l[?12l[?25hn[?25l[?12l[?25hu[?25l[?12l[?25hk[?25l[?12l[?25hr[?25l[?12l[?25ha[?25l[?12l[?25hj[?25l[?12l[?25ha[?25l[?12l[?25hn[?25l[?12l[?25h0[?25l[?12l[?25h0[?25l[?12l[?25h7[?25l[?12l[?25h/[?25l[?12l[?25hf[?25l[?12l[?25hl[?25l[?12l[?25ha[?25l[?12l[?25hs[?25l[?12l[?25hk[?25l[?12l[?25ha[?25l[?12l[?25hpp[?25l[?12l[?25h:[?25l[?12l[?25hl[?25l[?12l[?25ha[?25l[?12l[?25ht[?25l[?12l[?25he[?25l[?12l[?25hs[?25l[?12l[?25ht[?25l[1;79H(B[0;7m*[134G(B[m[?12l[?25h[20;48H[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[20;18H(B[0;1m[32mvishnukrajan007/flaskapp(B[0m: (B[m[1P[?25l[?12l[?25h[20;18Hvishnukrajan007/flaskapp [1P[?25l[42;17H[17X[42;34H(B[0;7mM-D(B[m DOS Format       [42;65H  (B[0;7mM-A(B[m Append[23X[42;100H(B[0;7mM-B(B[m Backup File[K[43;2H(B[0;7mC(B[m Cancel[17G[17X[43;34H(B[0;7mM-M(B[m Mac Format         [43;65H  (B[0;7mM-P(B[m Prepend[22X[43;100H(B[0;7m^T(B[m Browse[K[41d(B[0;7mFile Name to Write: deployment.yaml                                                                                                    [41;36H(B[m[?12l[?25h[?25l[41;60H[1K (B[0;7m[ Writing... ](B[m[K[1;79H(B[0;7m [134G(B[m[41;59H(B[0;7m[ Wrote 22 lines ](B[m[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute      (B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo        (B[0;7mM-A(B[m Set Mark[43;2H(B[0;7mX(B[m Exit  [17G(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace      (B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify      (B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo        (B[0;7mM-6(B[m Copy[?12l[?25h[20;42H[?25l[41d[J[43d[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# kubectl apply -f deployment.yaml
[?2004ldeployment.apps/flaskapp configured
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# clear
[?2004l[H[2J[3J[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridge/k8sroot@ip-172-31-2-231:/home/ubuntu/KubeBridge/k8s# cd ..
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git add [7mJenkinsfile[27mJenkinsfile
[?2004l[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git commit -m ""[7mJenkinsfile[27m"Jenkinsfile" "r"e"b"[1P"m"o"v"e"d" "l"a"t"e"s"t"[C
[?2004l[main 13fa339] Jenkinsfile removed latest
 Committer: root <root@ip-172-31-2-231.ap-south-1.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 1 file changed, 19 insertions(+), 15 deletions(-)
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# git push - u [K[K[Ku origin main
[?2004lUsername for 'https://github.com': VishnuKRajan007
Password for 'https://VishnuKRajan007@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 2 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)Writing objects:  66% (2/3)Writing objects: 100% (3/3)Writing objects: 100% (3/3), 572 bytes | 572.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/vishnukrajan007/KubeBridge.git
   846bc8b..13fa339  main -> main
branch 'main' set up to track 'origin/main'.
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# ls
[?2004l Dockerfile   Jenkinsfile   app.py   [0m[01;34mk8s[0m   kubectl   [01;34mterraform[0m  '{'
[?2004h]0;root@ip-172-31-2-231: /home/ubuntu/KubeBridgeroot@ip-172-31-2-231:/home/ubuntu/KubeBridge# app/[K.pynapp.py[Capp.pynapp.pyoapp.py app.py
[?2004l[?2004h[?1049h[22;0;0t[1;43r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[41;61H(B[0;7m[ Reading... ](B[m[41;60H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 7.2                                                     app.py                                                              [1;134H(B[m[42d(B[0;7m^G(B[m Help[42;17H(B[0;7m^O(B[m Write Out    (B[0;7m^W(B[m Where Is     (B[0;7m^K(B[m Cut[42;65H(B[0;7m^T(B[m Execute[81G(B[0;7m^C(B[m Location     (B[0;7mM-U(B[m Undo[42;113H(B[0;7mM-A(B[m Set Mark[43d(B[0;7m^X(B[m Exit[43;17H(B[0;7m^R(B[m Read File    (B[0;7m^\(B[m Replace[49G(B[0;7m^U(B[m Paste[43;65H(B[0;7m^J(B[m Justify[81G(B[0;7m^/(B[m Go To Line   (B[0;7mM-E(B[m Redo[43;113H(B[0;7mM-6(B[m Copy[2d(B[0;1m[36mfrom[39m(B[m flask (B[0;1m[36mimport[39m(B[m Flask[4dapp = Flask(__name__)[6d@app.route((B[0;1m[32m'/'[39m(B[m)[7d(B[0;1m[36mdef[34m home[39m(B[m():[8;5H(B[0;1m[36mreturn[39m(B[m (B[0;1m[32m"Hello king!"[10d[36mif[39m(B[m __name__ == (B[0;1m[32m'__main__'[39m(B[m:[11;5Happ.run(host=(B[0;1m[32m'0.0.0.0'[39m(B[m, port=5000)[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[41d[K[?12l[?25h[8;15H[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[1;75H(B[0;7m*[134G(B[m[?12l[?25h[8;23H(B[0;1m[32m.!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m..!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m...!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32my!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32me!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32ms!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m !"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m..!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m.!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32mg!"[39m(B[m[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!"[39m(B[m[K[?25l[?12l[?25h(B[0;1m[32m!!"[39